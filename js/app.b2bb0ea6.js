(function(){"use strict";var e={8765:function(e,t,o){var a=o(5130),r=o(6768);const n={id:"app"};function i(e,t,o,a,i,s){const l=(0,r.g2)("router-view");return(0,r.uX)(),(0,r.CE)("div",n,[(0,r.bF)(l)])}var s={name:"App"},l=o(1241);const p=(0,l.A)(s,[["render",i]]);var u=p,c=o(1387),d=o(4232);const m={class:"login-container"},y={key:0};function h(e,t,o,n,i,s){return(0,r.uX)(),(0,r.CE)("div",m,[t[4]||(t[4]=(0,r.Lk)("h2",null,"Login",-1)),(0,r.Lk)("form",{onSubmit:t[2]||(t[2]=(0,a.D$)(((...e)=>s.login&&s.login(...e)),["prevent"]))},[(0,r.bo)((0,r.Lk)("input",{"onUpdate:modelValue":t[0]||(t[0]=e=>i.email=e),type:"email",placeholder:"Email",required:""},null,512),[[a.Jo,i.email]]),(0,r.bo)((0,r.Lk)("input",{"onUpdate:modelValue":t[1]||(t[1]=e=>i.password=e),type:"password",placeholder:"Password",required:""},null,512),[[a.Jo,i.password]]),t[3]||(t[3]=(0,r.Lk)("button",{type:"submit"},"Login",-1))],32),i.errorMessage?((0,r.uX)(),(0,r.CE)("p",y,(0,d.v_)(i.errorMessage),1)):(0,r.Q3)("",!0)])}o(4114);var g=o(4373),b=o(4874),k=o.n(b),v={name:"LoginPage",data(){return{email:"",password:"",errorMessage:""}},methods:{async login(){try{const e=await g.A.post("https://api-interview-vue.bayarind.id/api/auth/login",{email:this.email,password:this.password});e.data.status?(localStorage.setItem("token",e.data.data.token),k().fire({title:"Login Successful!",text:"Welcome back!",icon:"success",confirmButtonText:"OK"}).then((()=>{this.$router.push("/employee-list")}))):this.errorMessage="Login gagal. Periksa email dan password Anda."}catch(e){this.errorMessage="Login gagal. Periksa email dan password Anda."}}}};const f=(0,l.A)(v,[["render",h],["__scopeId","data-v-7edc1d30"]]);var L=f;const E={class:"container mx-auto p-6"},w={class:"flex justify-between mb-4"},P={class:"min-w-full border border-gray-300"},C={class:"py-2 px-4 border-b"},x={class:"py-2 px-4 border-b"},_={class:"py-2 px-4 border-b"},A={class:"py-2 px-4 border-b"},S={class:"py-2 px-4 border-b"},B={class:"py-2 px-4 border-b"},$=["onClick"],I=["onClick"],O={class:"pagination-container"},X=["disabled"],D=["onClick"],U=["disabled"];function j(e,t,o,a,n,i){return(0,r.uX)(),(0,r.CE)("div",E,[t[5]||(t[5]=(0,r.Lk)("h2",{class:"text-2xl font-bold mb-4"},"Employee List",-1)),(0,r.Lk)("div",w,[(0,r.Lk)("button",{onClick:t[0]||(t[0]=(...e)=>i.createEmployee&&i.createEmployee(...e)),class:"btn-primary"}," Create New Employee "),(0,r.Lk)("button",{onClick:t[1]||(t[1]=(...e)=>i.logout&&i.logout(...e)),class:"btn-secondary"},"Logout")]),(0,r.Lk)("table",P,[t[4]||(t[4]=(0,r.Lk)("thead",null,[(0,r.Lk)("tr",{class:"bg-gray-100 text-gray-700"},[(0,r.Lk)("th",{class:"py-2 px-4 border-b"},"No"),(0,r.Lk)("th",{class:"py-2 px-4 border-b"},"Name"),(0,r.Lk)("th",{class:"py-2 px-4 border-b"},"Department"),(0,r.Lk)("th",{class:"py-2 px-4 border-b"},"Job Position"),(0,r.Lk)("th",{class:"py-2 px-4 border-b"},"Status"),(0,r.Lk)("th",{class:"py-2 px-4 border-b"},"Actions")])],-1)),(0,r.Lk)("tbody",null,[((0,r.uX)(!0),(0,r.CE)(r.FK,null,(0,r.pI)(i.paginatedEmployees,((e,t)=>((0,r.uX)(),(0,r.CE)("tr",{key:e.id,class:"hover:bg-gray-50"},[(0,r.Lk)("td",C,(0,d.v_)(t+1+(n.currentPage-1)*n.employeesPerPage),1),(0,r.Lk)("td",x,(0,d.v_)(e.name),1),(0,r.Lk)("td",_,(0,d.v_)(e.departement),1),(0,r.Lk)("td",A,(0,d.v_)(e.position),1),(0,r.Lk)("td",S,(0,d.v_)(e.status),1),(0,r.Lk)("td",B,[(0,r.Lk)("button",{onClick:t=>i.editEmployee(e.id),class:"btn-action"}," Edit ",8,$),(0,r.Lk)("button",{style:{"background-color":"#dc3545"},onClick:t=>i.deleteEmployee(e.id),class:"btn-action"}," Delete ",8,I)])])))),128))])]),t[6]||(t[6]=(0,r.Lk)("br",null,null,-1)),(0,r.Lk)("div",O,[(0,r.Lk)("button",{onClick:t[2]||(t[2]=(...e)=>i.prevPage&&i.prevPage(...e)),disabled:1===n.currentPage,class:"btn-action"}," Previous ",8,X),((0,r.uX)(!0),(0,r.CE)(r.FK,null,(0,r.pI)(i.totalPages,(e=>((0,r.uX)(),(0,r.CE)("button",{key:e,onClick:t=>i.changePage(e),class:(0,d.C4)(["btn-page",{"btn-active":e===n.currentPage}])},(0,d.v_)(e),11,D)))),128)),(0,r.Lk)("button",{onClick:t[3]||(t[3]=(...e)=>i.nextPage&&i.nextPage(...e)),disabled:n.currentPage===i.totalPages,class:"btn-action"}," Next ",8,U)])])}var q={data(){return{employees:[],currentPage:1,employeesPerPage:5}},computed:{totalPages(){return Math.ceil(this.employees.length/this.employeesPerPage)||1},paginatedEmployees(){const e=(this.currentPage-1)*this.employeesPerPage,t=e+this.employeesPerPage;return this.employees.slice(e,t)}},created(){const e=localStorage.getItem("token");e?this.getEmployees():this.$router.push("/")},methods:{async getEmployees(){const e=localStorage.getItem("token");try{const t=await g.A.get("https://api-interview-vue.bayarind.id/api/employee",{headers:{Authorization:`Bearer ${e}`}});this.employees=t.data.data.list}catch(t){console.error("Error fetching employees:",t)}},createEmployee(){this.$router.push("/employee-create")},editEmployee(e){this.$router.push(`/employee-edit/${e}`)},async deleteEmployee(e){const t=localStorage.getItem("token");if(!t)return void console.error("Authorization token not found.");const{isConfirmed:o}=await k().fire({title:"Are you sure?",text:"You won't be able to revert this!",icon:"warning",showCancelButton:!0,confirmButtonColor:"#d33",cancelButtonColor:"#3085d6",confirmButtonText:"Yes, delete it!"});if(o)try{await g.A.delete("https://api-interview-vue.bayarind.id/api/employee",{data:{id:e},headers:{Authorization:`Bearer ${t}`}}),this.getEmployees(),k().fire("Deleted!","Employee has been deleted.","success")}catch(a){console.error("Error deleting employee:",a.response?a.response.data:a.message),k().fire("Error!","There was a problem deleting the employee.","error")}},async logout(){const e=localStorage.getItem("token");if(!e)return void console.error("Authorization token not found.");const{isConfirmed:t}=await k().fire({title:"Are you sure?",text:"You will be logged out!",icon:"warning",showCancelButton:!0,confirmButtonColor:"#d33",cancelButtonColor:"#3085d6",confirmButtonText:"Yes, logout!"});if(t)try{await g.A.post("https://api-interview-vue.bayarind.id/api/auth/logout",{},{headers:{Authorization:`Bearer ${e}`}}),localStorage.removeItem("token"),this.$router.push("/"),k().fire("Logged out!","You have been logged out.","success")}catch(o){console.error("Error logging out:",o.response?o.response.data:o.message),k().fire("Error!","There was a problem logging out.","error")}},prevPage(){this.currentPage>1&&(this.currentPage-=1)},nextPage(){this.currentPage<this.totalPages&&(this.currentPage+=1)},changePage(e){this.currentPage=e}}};const z=(0,l.A)(q,[["render",j],["__scopeId","data-v-0324563b"]]);var F=z;const M={class:"container"},T=["value"],V=["value"],J={type:"submit",class:"btn btn-primary"};function K(e,t,o,n,i,s){return(0,r.uX)(),(0,r.CE)("div",M,[(0,r.Lk)("h2",null,(0,d.v_)(i.isEdit?"Edit Employee":"Create Employee"),1),(0,r.Lk)("button",{onClick:t[0]||(t[0]=t=>e.$router.go(-1)),class:"btn btn-back"},"Back"),(0,r.Lk)("form",{onSubmit:t[9]||(t[9]=(0,a.D$)(((...e)=>s.submitForm&&s.submitForm(...e)),["prevent"])),class:"employee-form"},[t[14]||(t[14]=(0,r.Lk)("label",null,"Name",-1)),(0,r.bo)((0,r.Lk)("input",{"onUpdate:modelValue":t[1]||(t[1]=e=>i.employee.name=e),required:""},null,512),[[a.Jo,i.employee.name]]),t[15]||(t[15]=(0,r.Lk)("label",null,"Email",-1)),(0,r.bo)((0,r.Lk)("input",{type:"email","onUpdate:modelValue":t[2]||(t[2]=e=>i.employee.email=e),required:""},null,512),[[a.Jo,i.employee.email]]),t[16]||(t[16]=(0,r.Lk)("label",null,"Phone",-1)),(0,r.bo)((0,r.Lk)("input",{type:"text","onUpdate:modelValue":t[3]||(t[3]=e=>i.employee.phone=e),required:""},null,512),[[a.Jo,i.employee.phone]]),t[17]||(t[17]=(0,r.Lk)("label",null,"Date of Birth",-1)),(0,r.bo)((0,r.Lk)("input",{type:"date","onUpdate:modelValue":t[4]||(t[4]=e=>i.employee.date_of_birth=e),required:""},null,512),[[a.Jo,i.employee.date_of_birth]]),t[18]||(t[18]=(0,r.Lk)("label",null,"Gender",-1)),(0,r.bo)((0,r.Lk)("select",{"onUpdate:modelValue":t[5]||(t[5]=e=>i.employee.gender=e),required:""},t[10]||(t[10]=[(0,r.Lk)("option",{value:"",disabled:""},"Select Gender",-1),(0,r.Lk)("option",{value:"male"},"Male",-1),(0,r.Lk)("option",{value:"female"},"Female",-1)]),512),[[a.u1,i.employee.gender]]),t[19]||(t[19]=(0,r.Lk)("label",null,"Department",-1)),(0,r.bo)((0,r.Lk)("select",{"onUpdate:modelValue":t[6]||(t[6]=e=>i.employee.departement=e),required:""},[t[11]||(t[11]=(0,r.Lk)("option",{value:"",disabled:""},"Select Department",-1)),((0,r.uX)(!0),(0,r.CE)(r.FK,null,(0,r.pI)(i.departments,(e=>((0,r.uX)(),(0,r.CE)("option",{key:e.id,value:e.id},(0,d.v_)(e.title),9,T)))),128))],512),[[a.u1,i.employee.departement]]),t[20]||(t[20]=(0,r.Lk)("label",null,"Job Position",-1)),(0,r.bo)((0,r.Lk)("select",{"onUpdate:modelValue":t[7]||(t[7]=e=>i.employee.position=e),required:""},[t[12]||(t[12]=(0,r.Lk)("option",{value:"",disabled:""},"Select Position",-1)),((0,r.uX)(!0),(0,r.CE)(r.FK,null,(0,r.pI)(i.positions,(e=>((0,r.uX)(),(0,r.CE)("option",{key:e.id,value:e.id},(0,d.v_)(e.title),9,V)))),128))],512),[[a.u1,i.employee.position]]),t[21]||(t[21]=(0,r.Lk)("label",null,"Status",-1)),(0,r.bo)((0,r.Lk)("select",{"onUpdate:modelValue":t[8]||(t[8]=e=>i.employee.status=e),required:""},t[13]||(t[13]=[(0,r.Lk)("option",{value:"",disabled:""},"Select Status",-1),(0,r.Lk)("option",{value:"active"},"Active",-1),(0,r.Lk)("option",{value:"inactive"},"Inactive",-1)]),512),[[a.u1,i.employee.status]]),(0,r.Lk)("button",J,(0,d.v_)(i.isEdit?"Update":"Create"),1)],32)])}var N={props:["id"],data(){return{employee:{name:"",email:"",phone:"",date_of_birth:"",gender:"",departement:"",position:"",status:""},isEdit:!1,departments:[],positions:[]}},created(){this.id&&(this.isEdit=!0,this.getEmployeeData()),this.getDepartments(),this.getPositions()},methods:{async getEmployeeData(){const e=localStorage.getItem("token");try{const t=await g.A.get(`https://api-interview-vue.bayarind.id/api/employee/${this.id}`,{headers:{Authorization:`Bearer ${e}`}});this.employee=t.data.data}catch(t){console.error("Error fetching employee data:",t)}},async getDepartments(){const e=localStorage.getItem("token");try{const t=await g.A.get("https://api-interview-vue.bayarind.id/api/departement/list",{headers:{Authorization:`Bearer ${e}`}});this.departments=t.data.data}catch(t){console.error("Error fetching departments:",t)}},async getPositions(){const e=localStorage.getItem("token");try{const t=await g.A.get("https://api-interview-vue.bayarind.id/api/position/list",{headers:{Authorization:`Bearer ${e}`}});this.positions=t.data.data}catch(t){console.error("Error fetching positions:",t)}},async submitForm(){const e=localStorage.getItem("token"),t={id:this.id,name:this.employee.name,email:this.employee.email,phone:this.employee.phone,date_of_birth:this.employee.date_of_birth,gender:this.employee.gender,department_id:this.employee.departement,job_position_id:this.employee.position,status:this.employee.status};try{this.isEdit?(await g.A.put("https://api-interview-vue.bayarind.id/api/employee",t,{headers:{Authorization:`Bearer ${e}`}}),k().fire({icon:"success",title:"Success",text:"Employee updated successfully!"})):(await g.A.post("https://api-interview-vue.bayarind.id/api/employee",t,{headers:{Authorization:`Bearer ${e}`}}),k().fire({icon:"success",title:"Success",text:"Employee created successfully!"})),this.$router.push("/employee-list")}catch(o){console.error("Error submitting employee:",o.response?o.response.data:o.message),k().fire({icon:"error",title:"Error",text:"There was an error submitting the form. Please try again."})}}}};const Y=(0,l.A)(N,[["render",K],["__scopeId","data-v-1013c804"]]);var G=Y;const Q=[{path:"/",name:"Login",component:L},{path:"/employee-list",name:"EmployeeList",component:F},{path:"/employee-create",name:"EmployeeCreate",component:G},{path:"/employee-edit/:id",name:"EmployeeEdit",component:G,props:!0}],W=(0,c.aE)({history:(0,c.LA)(),routes:Q});var H=W;const R=(0,a.Ef)(u);R.use(H),R.mount("#app")}},t={};function o(a){var r=t[a];if(void 0!==r)return r.exports;var n=t[a]={exports:{}};return e[a].call(n.exports,n,n.exports,o),n.exports}o.m=e,function(){var e=[];o.O=function(t,a,r,n){if(!a){var i=1/0;for(u=0;u<e.length;u++){a=e[u][0],r=e[u][1],n=e[u][2];for(var s=!0,l=0;l<a.length;l++)(!1&n||i>=n)&&Object.keys(o.O).every((function(e){return o.O[e](a[l])}))?a.splice(l--,1):(s=!1,n<i&&(i=n));if(s){e.splice(u--,1);var p=r();void 0!==p&&(t=p)}}return t}n=n||0;for(var u=e.length;u>0&&e[u-1][2]>n;u--)e[u]=e[u-1];e[u]=[a,r,n]}}(),function(){o.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return o.d(t,{a:t}),t}}(),function(){o.d=function(e,t){for(var a in t)o.o(t,a)&&!o.o(e,a)&&Object.defineProperty(e,a,{enumerable:!0,get:t[a]})}}(),function(){o.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}()}(),function(){o.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)}}(),function(){o.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})}}(),function(){var e={524:0};o.O.j=function(t){return 0===e[t]};var t=function(t,a){var r,n,i=a[0],s=a[1],l=a[2],p=0;if(i.some((function(t){return 0!==e[t]}))){for(r in s)o.o(s,r)&&(o.m[r]=s[r]);if(l)var u=l(o)}for(t&&t(a);p<i.length;p++)n=i[p],o.o(e,n)&&e[n]&&e[n][0](),e[n]=0;return o.O(u)},a=self["webpackChunkemployee_management"]=self["webpackChunkemployee_management"]||[];a.forEach(t.bind(null,0)),a.push=t.bind(null,a.push.bind(a))}();var a=o.O(void 0,[504],(function(){return o(8765)}));a=o.O(a)})();
//# sourceMappingURL=app.b2bb0ea6.js.map